#: import log2 math.log2

#: import FieldWidget widgets.field_widget.FieldWidget
#: import PopulationGraphWidget widgets.population_graph_widget.PopulationGraphWidget
#: import SpeedController widgets.speed_controller.SpeedController


BoxLayout:
    padding: 16
    spacing: 16
    SpeedController:
        id: speed_controller
        size_hint: [0.1, 1]
        orientation: "vertical"
        get_current_time: app.get_usage_time
        min: 0
        max: 9
        value: 4.5
    FieldWidget:
        id: field_widget
        size_hint: [0.5, 1]
        field: app.agol_kernel.field
        colors: app.kinds_colors
    PopulationGraphWidget:
        id: population_graph_widget
        size_hint: [0.4, 1]
        agol_kernel: app.agol_kernel
        colors: app.kinds_colors
        get_height_by_kind_quantity: lambda quantity: log2(1 + quantity)
        area_ticks_to_display: 256
